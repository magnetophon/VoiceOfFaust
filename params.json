{
  "name": "Voiceoffaust",
  "tagline": "Turn your voice into a synthesizer!",
  "body": "# VoiceOfFaust\r\n\r\nTurns any monophonic sound into a synthesizer, preserving the pitch and spectral dynamics of the input.  \r\nThe name was chosen because I use it mostly to turn my voice into a singing robot, and it's made in [Faust](http://faust.grame.fr).\r\n\r\n[These](http://magnetophon.nl/sounds/magnetophon/oldCombo.flac) [are](https://raw.githubusercontent.com/magnetophon/VoiceOfFaust/master/Caribean.mp3) some silly demo songs.\r\n\r\n## Overview\r\n\r\nVoiceOfFaust consists of:\r\n\r\n* An external pitch tracker: [helmholtz~](http://www.katjaas.nl/helmholtz/helmholtz.html) by Katja Vetter\r\n* compressor/expander, also by [Katja](http://www.katjaas.nl/compander/compander.html), ported to Faust.\r\n* 7 synthesizer and two effect algorithms:\r\n  * [channel vocoder](#classicvocoder) with:\r\n    * a \"super-saw\" that can be cross-faded to a \"super-pulse\", free after [Adam Szabo](https://www.nada.kth.se/utbildning/grukth/exjobb/rapportlistor/2010/rapporter10/szabo_adam_10131.pdf)\r\n    * flexible Q and frequency setting for the filters\r\n    * an elaborate feedback and distortion matrix around the filters\r\n  * a couple of vocoders based on oscillators with controllable formants,  \r\n    so IOW: oscillators that sound like they have a band pass filter on them.  \r\n    The types of oscillator used in these, are:\r\n    * [CZ resonant](#czvocoder) oscillators, ported from a pd patch by [Mike Moser-Booth](http://forum.pdpatchrepo.info/topic/5992/casio-cz-oscillators)\r\n    * [PAF](#pafvocoder), ported from a pd patch by [Miller Puckette](http://msp.ucsd.edu/techniques/v0.11/book-html/node96.html)\r\n    * [FM](#fmvocoder), based on code by [Chris Chafe](http://chrischafe.net/glitch-free-fm-vocal-synthesis/)\r\n    * [FOF](#fofvocoder), based on code by [Michael Jørgen Olsen](https://ccrma.stanford.edu/~mjolsen/220a/fp/Foflet.dsp) and extended as inspired by [Csound](https://csound.github.io/docs/manual/fof2.html)\r\n  * [FM](#fmsinger), with modulation by the voice\r\n  * [ring-modulation](#czringmod) with a few other CZ-oscillators\r\n  * [Karplus-Strong](#karplus-strongSinger): The famous [synthesis technique](https://en.wikipedia.org/wiki/Karplus%E2%80%93Strong_string_synthesis) used as an effect\r\n  * [Phase modulation](#pmfx) used as an effect\r\n* All oscillators are synchronized to a single saw-wave, so they stay in phase, [unless you don't want them to!](#phase-parameters)\r\n* powerful [parameter mapping system](#parameter-mapping-system)  \r\n  Lets you set different parameter values for each band, without having to set them all separately\r\n* All synths are spatialized at their core: sounds are generated in stereo, multichannel or ambisonics format,  \r\n  not made in mono and afterwards given some stereo width with effects.\r\n* [formant compression/expansion](#formant-compression/expansion):  \r\n  Make the output spectrum more flat or more resonant, at the twist of a knob.\r\n* flexible [in and output routing](#in-and-output-routing), totally changing the character of your synth.\r\n* all parameters, including routing, are step-less, meaning any 'preset' can morph into any other, with the only exception of the octave setting\r\n  (though for some of the synths even that one is continuously variable)\r\n* multi-band [deEsser](#deesser) and [reEsser](#reesser)\r\n* Optionally use as a [master-slave](#master-slave) pair  \r\n  * This is a workaround for the need for an external pitchtracker, making it possible to use these as plugins.  \r\n    It has the nice side effect that your sounds become fully deterministic:  \r\n    because a pitchtracker will always output slightly different data, or at least at slightly different moments relative to the audio, the output audio can sometimes change quite a bit from run to run.\r\n* [configuration file](lib/constants.lib)  \r\n  Through this file, lot's of options can be set at compile time, allowing you to adapt the synth to the amount of CPU power and screen real-estate available.  \r\n  Some of the highlights:\r\n  * number of bands of the vocoders\r\n  * number of output channels\r\n  * whether we want [ambisonics](https://en.wikipedia.org/wiki/Ambisonics) output\r\n  * whether a vocoder has nrBands or nrBands * nrOutChan oscillators. [more info](#doubleOscs) \r\n* Lots more, described in [Features](#features).\r\n\r\n<!-- markdown-toc start - Don't edit this section. Run M-x markdown-toc-generate-toc again -->\r\n**Table of Contents**\r\n\r\n- [VoiceOfFaust](#voiceoffaust)\r\n    - [Overview](#overview)\r\n    - [Building and running](#building-and-running)\r\n    - [Features](#features)\r\n        - [Vocoders](#vocoders)\r\n            - [features of all vocoders](#features-of-all-vocoders)\r\n                - [parameter mapping system](#parameter-mapping-system)\r\n                - [formant compression/expansion](#formant-compressionexpansion)\r\n                - [deEsser](#deesser)\r\n                - [reEsser](#reesser)\r\n                - [doubleOscs](#doubleoscs)\r\n                - [in and output routing](#in-and-output-routing)\r\n                - [phase parameters](#phase-parameters)\r\n            - [features of individual vocoders](#features-of-individual-vocoders)\r\n                - [classicVocoder](#classicvocoder)\r\n                - [CZvocoder](#czvocoder)\r\n                - [PAFvocoder](#pafvocoder)\r\n                - [FMvocoder](#fmvocoder)\r\n                - [FOFvocoder](#fofvocoder)\r\n        - [other synthesizers](#other-synthesizers)\r\n            - [FMsinger](#fmsinger)\r\n            - [CZringmod](#czringmod)\r\n            - [Karplus-StrongSinger](#karplus-strongsinger)\r\n            - [Karplus-StrongSingerMaxi](#karplus-strongsingermaxi)\r\n        - [master-slave](#master-slave)\r\n\r\n<!-- markdown-toc end -->\r\n\r\n\r\n## Building and running\r\n\r\n\r\nYou need Faust from git, because version 0.9.73 and earlier have a bug in lf_sawpos. \r\nOtherwise, at least use my_lf_sawpos in lib/master.lib.\r\n\r\nThen run ``./install.sh`` to compile. (It doesn't actually install anything.)\r\n\r\nIt is recommended to run the included puredata pitch tracker.  \r\nRun it with:\r\n```pd -nodac -nomidi -jack  -nogui /path/to//VoiceOfFaust/PureData/OscSendVoc.pd```\r\nThe built in pitch-tracker is a bit crude, because Faust cannot do FFT (yet).  \r\nConsider it the backup/try-out pitch tracker.\r\n\r\n\r\n## Features\r\n\r\n### Vocoders\r\n\r\n#### features of all vocoders\r\n\r\n##### parameter mapping system\r\n\r\n\r\nThe parameters for the vocoders use a very flexible control system:  \r\nEach parameter has a bottom and a top knob, where the bottom changes the value at the lowest formant band,  \r\nand the top the value at the highest formant band.  \r\nThe rest of the formant bands get values that ere evenly spaced in between.  \r\nFor some of them that means linear spacing, for others logarithmic spacing.\r\n\r\nFor even more flexibility there is a parametric mid:  \r\nYou set it's value and band number and the parameter values are now:\r\n* 'bottom' at the lowest band, going to:\r\n* 'mid value' at band nr 'mid band', going to:\r\n* 'top value' at the highest band.\r\nKind of like a parametric mid in equalizers.  \r\nIf that's all a bit too much, just set ``para`` to 0 in the [configuration file](lib/constants.lib),  \r\nand you'll have just the top and bottom settings.\r\n\r\n##### formant compression/expansion\r\n\r\nScale the volume of each band relative to the others:\r\n* 0 = all bands at average volume\r\n* 1 = normal\r\n* 2 = expansion\r\nexpansion here means:\r\n* the loudest band stays the same\r\n* soft bands get softer\r\n\r\nBecause low frequencies contain more energy than high ones, a lot of expansion will make your sound duller.\r\nTo counteract that, you can apply a weighting filter, settable from\r\n* 0 = no weighting\r\n* 1 = A-weighting\r\n* 2 = ITU-R 468 weighting\r\n\r\n##### deEsser\r\n\r\nTo tame harsh esses, especially when using some [formant compression/expansion](#formant compression/expansion), there is a deEsser:\r\nIt has all the usual controlls, but since we already are working on a signals that are split up in bands, with known volumes,\r\nit was implemented rather differently:\r\n* multiband, yet much cheaper,\r\n* without additional filters, even for the sidechain,\r\n* and with a db per octave knob for the sidechain, from 0dB/oct (bypass), to 60dB/oct (fully ignore the lows).\r\nIt also has a (badly named) noise strenght parameter: it uses the fidelity parameter from the external pitchtracker to judge if a sound is an S.\r\nWhen you turn it up, the deEsser gets disabled when the pitchtracker claims a sound is pitched.\r\nSee the [site](#http://www.katjaas.nl/helmholtz/helmholtz.html) of the pitchtracker for more info.\r\n\r\n##### reEsser\r\n\r\nDisabled by default, but can be enabled in the [configuration file](lib/constants.lib).\r\nIt replaces or augments the reduced highs caused by the \r\n\r\n##### doubleOscs\r\n\r\nThis is a compile option, with two settings:\r\n* 0 = have one oscillators for each formant frequency\r\n* 1 = creates a separate set of oscillators for each output channel, with their [phase](#phase-parameters) modulations reversed.\r\n\r\n##### in and output routing\r\n\r\nThe vocoders can mix their bands together in various ways:  \r\nWe can send all the low bands left and the high ones right,  \r\nwe can alternate the bands between left and right,  \r\nwe can do various mid-side variations  \r\nwe can even do a full [Hadamard matrix](https://en.wikipedia.org/wiki/Hadamard_matrix).  \r\nAll of these, and more, can be clicklessly cross-faded between.\r\n                       \r\nIn the [classicVocoder](#classicvocoder), a similar routing matrix is between the oscillators and the filters.\r\n\r\n\r\n##### phase parameters\r\n\r\nSince all(*) formants are made by separate oscillators that are synced to a single master oscillator, you can set their phases, relative to each other.\r\n(*) except for the [classicVocoder](#classicvocoder)\r\nThis allows them to sound like one oscillator when they have static phase relationships, and to sound like many detuned oscillators when their phases are moving.\r\n\r\nTogether with the [output routing](#in-and-output-routing), it can also create interesting cancellation effects.\r\nFor example, with the default settings for the FMvocoder, the formants are one octave up from where you'd expect them to be.\r\nWhen you change the phase or the output routing, they drop down.\r\n\r\nThese settings are available:\r\n* static phases\r\n* amount of modulation by low pass filtered noise\r\n* the cutoff frequency of the noise filters\r\n\r\n#### features of individual vocoders\r\n\r\n##### classicVocoder\r\n\r\nThe classicVocoder has two sections:\r\n* oscillators\r\n  Containing the parameters for the carrier oscillators.\r\n  These are regular virtual analog oscillators, with the following parameters:\r\n  * cross-fade between oscillators and noise\r\n  * cross-fade between sawtooth and pulse wave\r\n  * width of the pulse wave\r\n  * mix between a single oscilators and multiple detuned ones\r\n  * detuning amount\r\n* filters  \r\n  Containing the parameters for the synthesis filters:\r\n  * bottom, mid and top set the resonant frequencies\r\n  * Q for bandwidth\r\n  * a feedback matrix. each filter gets fed back a variable amount of:\r\n    * itself\r\n    * it's higher neighbor\r\n    * it's lower neighbor\r\n    * all other filters\r\n  * distortion amount\r\n  * DC offset\r\n  \r\n##### CZvocoder\r\n\r\nThis is the simplest of the vocoders made out of formant oscilators.\r\nYou can adjust:\r\n* the formant frequencies\r\n* the [phase parameters](#phase-parameters)\r\n\r\n  \r\n##### PAFvocoder\r\n\r\nAlso has frequencies and phases, but adds index for brightness.\r\n\r\n##### FMvocoder\r\n\r\nSame parameters, different sound.\r\n\r\n##### FOFvocoder\r\n\r\nOriginal idea by [Xavier Rodet](http://anasynth.ircam.fr/home/english/media/singing-synthesis-chant-program).\r\nAlso has frequencies and phases, but adds:\r\n* skirt and decay:  \r\n  Two settings that influence the brightness of each band\r\n* Octavation index  \r\n  Normally zero. If greater than zero, lowers the effective frequency by attenuating odd-numbered sinebursts. Whole numbers are full octaves, fractions transitional.\r\n  Inspired by [Csound](https://csound.github.io/docs/manual/fof2.html).\r\n\r\n### other synthesizers\r\n\r\n#### FMsinger\r\n\r\nA sine wave that modulates its frequency with the input signal.\r\nThere are five of these, one per octave, and each one has:\r\n* volume\r\n* modulation index\r\n* modulation dynamics  \r\n  This fades between 3 settings:\r\n  * no dynamics: the amount of modulation stays constant with varying input signal\r\n  * normal dynamics: more input volume equals more modulation\r\n  * inverted dynamics: more input equals less modulation.\r\n  \r\n  \r\n#### CZringmod\r\n\r\nRingmodulates the input audio with emulations of Casio CZ oscillators.\r\nAgain five octaves, with each octave containing three different oscillators:\r\n* square and pulse, each having volume and index (brightness) controls\r\n* reso, having a volume and a resonance multiplier:  \r\n  This is a formant oscillator, and it's resonant frequency is resMult is multiplied by the formant setting top right.\r\n  It is intended to be used with an external formant tracker.\r\n* There is a global width parameter that controls a delay on the oscillators for one output.\r\n  The delay time is relative to the frequency.\r\n  Because this delay is applied to just the oscillators, and before the ringmodulation, the sound of both output channels arrives simultaneously.\r\n  This creates a mono-compatible widening of the stereo image.\r\n\r\n#### Karplus-StrongSinger\r\n\r\nThis takes the idea of a [Karplus Strong algorithm](https://en.wikipedia.org/wiki/Karplus%E2%80%93Strong_string_synthesis), but instead of noise, it uses the input signal.\r\nThe feedback is ran trough an allpass filter, modulated with an LFO; adapted from the nonLinearModulator in instrument.lib.\r\nTo keep the level from going out of control, there is a limiter in the feedback path.\r\nParallel to the delay is a separate nonLinearModulator.\r\nGlobally you can set:\r\n* octave\r\n* output volume\r\n* threshold of the limiter\r\nFor the allpass filters you can set:\r\n* amount of phase shift\r\n* difference in phase shift between left and right (yeah, I lied, there are two of everything)\r\n* amount of modulation by the LFO\r\n* frequency of the LFO, relative to the main pitch\r\n* phase offset between the left and right LFO's.\r\nTo round things off there is a volume for the dry path and a feedback amount for the delayed one.\r\n\r\n#### Karplus-StrongSingerMaxi\r\n\r\nTo have more voice control of the spectrum, this one has a kind of vocoder in the feedback path.\r\nSince we don't want the average volume of the feedback path changing much, only the volumes relative to the other bands, the vocoder is made out of equalizers, not bandpass filters.\r\nYou can adjust it's\r\n* strength: from bypass to 'fully equalized'\r\n* cut/boost; steplessly vary between\r\n  * -1 = all bands have negative gain, except the strongest, which is at 0\r\n  * 0  = the average gain of the bands is 0.\r\n  * +1 = the all bands have positive gain, except the weakest, which is at 0\r\n* top and bottom frequencies\r\n* Q factor\r\n\r\nIt loses the octave slider, and instead has a separate delay and modulation for each octave.\r\n\r\n\r\n### master-slave\r\n  * This is a workaround for the need for an external pitchtracker, making it possible to use these as plugins.  \r\n    It has the nice side effect that your sounds become fully deterministic:  \r\n    because a pitchtracker will always output slightly different data, or at least at slightly different moments relative to the audio, the output audio can sometimes change quite a bit from run to run.\r\n  * The master is a small program that receives the audio and the OSC messages from the external pitch tracker,  \r\n    and outputs:\r\n    * a copy of the input audio\r\n    * a saw wave defining the pitch and phase\r\n    * the value of fidelity, from the pitch tracker, as audio.\r\n  * The slaves are synths and effects that input the above three signals.\r\n  * The outputs of the master can be recorded into a looper or DAW,  \r\n    and be used as song building blocks, without needing the pitch tracker.  \r\n    Now you are 100% free to switch synths, automate parameters, etc.  \r\n\r\n\r\nVoiceOfFaust started life as a port of [VocSynth](https://github.com/magnetophon/VocSynth).\r\n[Here](https://github.com/magnetophon/VocSynth/blob/master/A%20realtime%20synthesizer%20controlled%20by%20singing%20and%20beatboxing.pdf) is some in depth documentation fot that project.\r\n\r\nEnjoy! And don’t forget to tell me what you think of it and send me music you’ve made with it!\r\n",
  "note": "Don't delete this file! It's used internally to help with page regeneration."
}